<plugin id="outsystems-universal-links-wrapper" version="1.0.0"
        xmlns="http://apache.org/cordova/ns/plugins/1.0"
        xmlns:android="http://schemas.android.com/apk/res/android">


    <name>OutSystems Universal Links Wrapper</name>
    <description>Wrapper to inject universal link config for OutSystems</description>
    <license>MIT</license>


    <!-- Use cordova-plugin-deeplinks instead of cordova-universal-links-plugin -->
    <dependency id="cordova-plugin-deeplinks"
                url="https://github.com/e-imaxina/cordova-plugin-deeplinks.git" />

    <platform name="ios">   
    <!-- <edit-config
           file="**/Entitlements-Release.plist"
           mode="merge"
           target="com.apple.developer.associated-domains">
           <array>
               <string>applinks:$UL_HOST</string>
           </array>
       </edit-config>        <edit-config
           file="**/Entitlements-Debug.plist"
           mode="merge"
           target="com.apple.developer.associated-domains">
           <array>
               <string>applinks:$UL_HOST</string>
           </array>
    </edit-config>
    </platform> -->

     <edit-config
           file="**/Entitlements-Release.plist"
           mode="merge"
           target="com.apple.developer.associated-domains">
           <array>
               <string>applinks:myamu-dev.apus.edu</string>
           </array>
       </edit-config>        <edit-config
           file="**/Entitlements-Debug.plist"
           mode="merge"
           target="com.apple.developer.associated-domains">
           <array>
               <string>applinks:myamu-dev.apus.edu</string>
           </array>
    </edit-config>
    </platform>
 
 
    <!-- iOS: still inject universal-links for compatibility -->
    <platform name="ios">
        <config-file target="config.xml" parent="/*">
            <universal-links>
                <host name="myamu-dev.apus.edu" scheme="https" event="app_deeplink">
                    <path url='/campaign/*'/>
                    <path url='/campaign'/>
                </host>
            </universal-links>
        </config-file>
    </platform>

    <!-- Android: no <universal-links> tag, handled by cordova-plugin-deeplinks plugin -->
   <platform name="android">
        <config-file target="config.xml" parent="/*">
            <universal-links>
                <host name="myamu-dev.apus.edu" scheme="https" event="app_deeplink">
                    <path url='/campaign/*'/>
                    <path url='/campaign'/>
                </host>
            </universal-links>
        </config-file>
    </platform>

    <!-- Hooks -->
    <!-- <hook type="after_platform_add" src="scripts/entitlements.js" />
    <hook type="after_prepare" src="scripts/entitlements.js" /> -->
    <!-- <hook type="after_platform_add" src="scripts/configInjector.js" />
    <hook type="before_prepare" src="scripts/configInjector.js" /> -->
    <!-- <hook type="before_prepare" src="scripts/appDomainInjector_ios.js" /> -->


   
</plugin>
