<plugin id="outsystems-universal-links-wrapper" version="1.0.0"
        xmlns="http://apache.org/cordova/ns/plugins/1.0"
        xmlns:android="http://schemas.android.com/apk/res/android">

    <name>OutSystems Universal Links Wrapper</name>
    <description>Wrapper to inject universal link config for OutSystems</description>
    <license>MIT</license>

    <dependency id="cordova-universal-links-plugin"
                url="https://github.com/GEDYSIntraWare/cordova-universal-links-plugin.git" />

    <variable name="UL_HOST"   default="example.com" />
    <variable name="UL_SCHEME" default="https" />
    <variable name="UL_EVENT"  default="ul_deeplink" />
    <variable name="UL_PATHS"  default="campaign/*,campaign" />

    <platform name="android">
        <config-file target="config.xml" parent="/*">
            <universal-links>
                <host name="$UL_HOST" scheme="$UL_SCHEME" event="$UL_EVENT">
                    <!-- The UL_PATHS variable should be a comma-separated list of paths, e.g., "campaign/*,campaign" -->
                    <path url="$UL_PATHS" />
                </host>
            </universal-links>
        </config-file>
    </platform>

    <platform name="ios">
        <config-file target="config.xml" parent="/*">
            <universal-links>
                <host name="$UL_HOST" scheme="$UL_SCHEME" event="$UL_EVENT">
                    <path url="campaign/*" />
                    <path url="campaign" />
                </host>
            </universal-links>
        </config-file>
    </platform>
</plugin>
